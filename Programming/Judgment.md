# 判定式

便利な判定式回りのメモ。

## 1ビットだけ立ってる（2のべき乗判定）

```
( v & ( v - 1 ) ) == 0
!( v & ( v - 1 ) )
```

2のべき乗は2進数で10...0になる。例えば100を考えるとこの1つ手前は11になり、10000の1つ前は1111になる。
このようにべき乗の場合必ず手前の値は1桁足りない全てが1で構成される数値になる。

逆に言えばこの性質を使って `元の値 & (元の値 - 1)` を計算すると `10..0 & 01..1` になって必ず0になる。
