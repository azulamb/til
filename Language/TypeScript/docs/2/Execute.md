# JavaScriptの実行方法

JavaScriptの開発時に実行する環境が主に2つあります。

* ブラウザで動かす
* コマンドで動かす

また、それぞれに2つの実行方法があります。

* ファイルを読み込んで動かす
* コマンドを打ち込むとリアルタイムで実行するコンソールを使って動かす

これら組み合わせの合計4パターンについて書いておきます。

# ブラウザで動かす

完成品としてJavaScriptのファイルをHTMLに読み込ませて実行させる方法と、コンソールを開いてちょっと実行する2つの方法があります。

## ファイルを読み込んで動かす

ここにHTMLと一緒に書く

## コンソールを開いて動かす

大抵のブラウザには開発者用のツールが搭載されるようになっています。

例えばChromeなら適当なページの適当な場所を `右クリック` → `検証` もしくは `Ctrl` + `Shift` + 'I' で開くことが出来ます。

「ここに画像」

このような画面が出てきたら、`Console` と書かれたタブをクリックしてください。
ここの一番下の `>` はJavaScriptを入力して実行することが出来ます。

普通にファイルに書いて実行するのと異なり、大体1行書き込むたびに実行されるので、例えば以下のようなコードを書いたときには

```
const test = 'Hello';
console.log( test );
```

```
> const test = 'Hello';
< undefined
> console.log( test );
< VM2470:1 Hello
< undefined
```

このように実行したコマンドの下に出力があれば出力が表示され、その下に評価結果が出力されます。
いわゆる `return` した結果です。

変数の宣言も `console.log` も何も返しませんが、例えばこの後に `test` と先ほど宣言した変数だけ入力すれば線数の中身が見れますし、 `function a(){return 1;}` という関数を定義して `a()` を実行すれば、 `1` と表示されます。

最も簡単にJavaScriptの挙動を確認できるやり方でしょう。

# コマンドで動かす

Node.jsなどPCやサーバーにインストールして使えるJavaScriptは、コマンドにファイルを与えることでJavaScriptを実行します。

今回はNode.jsを使うのでNode.jsの場合について説明しますが、こちらはブラウザ同様完成品のJavaScriptのファイルを読み込ませて実行する方法と、ブラウザのコンソールのような形で実行する方法があります。

## ファイルを読み込んで動かす

Node.jsの場合は、普通にファイルをコマンドに渡せば大丈夫です。

```
node test.js
```

## コンソールで動かす

Node.jsではブラウザのコンソールのようにJavaScriptを書いて動かすことも可能です。

```
node
```

挙動はChromeの時と同じです。
終了する場合は、 `.exit` と入力すれば終了します。一応 `Ctrl` + `C` を2回押しても終了できるようです。

# その他

## ブラウザとコマンドのときのコンソールの違い

一応Node.jsはChromeに搭載されているJavaScriptエンジンの V8 をデフォルトで使うので、挙動に関しては違いはほぼないです。
ただ、ブラウザのときだけ明確な違いがあります。

それは、HTML要素周りの処理が使えることと、すでに読み込まれているJavaScriptの処理があるため、初期の環境が違うということです。

例えばコマンドで `document.getElementById` を使おうものなら、`ReferenceError: document is not defined` つまり `document` とか言うグローバルオブジェクトなんて無いよ。と言われてエラーになります。
他にもHTMLが読み込んだJSも実行中なので、そこで定義された関数やグローバル変数などもいじったり出来ます。

なので、ブラウザの場合は実行環境（開発者ツールを開いたWebページ）によって挙動が変わる可能性もあるので注意してください。（例えば `console.log` を上書きして何も出力しないようにしているかもしれない。）

# まとめ

プログラムを書いてファイルにしたものを実行するのはまぁ当然として、今回はコンソールに入力しながら実行する方法についてもまとめました。
まとめた理由としては、お手軽に実行するためです。

JavaScriptはわりと直感に反する動きをするケースもあり、その際に何度もコードを書いてビルドして実行は手間です。
一方コンソールであれば入力即実行で細かな挙動を確認できるため、長くないコードであればこちらの方が圧倒的に楽です。

特に小さい挙動を確認する際には便利だと思うので、状況に応じて実行環境を変えてみてください。

